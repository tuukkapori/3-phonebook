(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),i=n(18),r=n.n(i),o=(n(26),n(9)),l=n(4),s=n(19),d=n(1),u={display:"flex",justifyContent:"space-between",width:"100%",maxWidth:"400px",height:"auto",margin:"0px",padding:"5px 20px",background:"#fff",border:"1px solid grey",borderRadius:"5px",marginBottom:"3px"},j={backgroundColor:"#f44336",border:"none",color:"white",fontSize:"15px",padding:"10px",borderRadius:"5px"},h={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},b=function(e){var t=e.person,n=e.deleteContact;return Object(d.jsxs)("div",{style:u,className:"contact-label",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{style:{marginBottom:"10px",marginTop:"5px"},children:t.name}),Object(d.jsx)(s.a,{style:{fontSize:"12px",marginRight:"3px"}}),Object(d.jsxs)("p",{style:{display:"inline"},children:[" ",t.number]})]}),Object(d.jsx)("div",{style:h,children:Object(d.jsx)("button",{style:j,onClick:function(){return n(t.name)},children:"delete"})})]})},f={display:"flex",justifyContent:"center",alignItems:"center"},p={listStyle:"none",width:"100%"},x={overflow:"scroll",width:"100%",padding:"10px"},m=function(e){var t=e.persons,n=e.newFilter,c=e.deleteContact;return Object(d.jsx)("div",{style:x,children:Object(d.jsx)("ul",{style:p,children:t.filter((function(e){return""===n?e:e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return Object(d.jsx)("li",{style:f,children:Object(d.jsx)(b,{person:e,deleteContact:c})},e.name)}))})})},O={width:"50%",maxWidth:"350px"},g={width:"100%"},y=function(e){var t=e.addName,n=e.newName,c=e.handleNameChange,a=e.newNumber,i=e.handleNumberChange;return Object(d.jsxs)("form",{onSubmit:t,children:[Object(d.jsxs)("div",{style:O,children:[Object(d.jsx)("label",{children:"name:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{style:g,id:"nameInput",value:n,onChange:c})]}),Object(d.jsxs)("div",{style:O,children:[Object(d.jsx)("label",{children:"number:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{style:g,id:"numberInput",value:a,onChange:i})]}),Object(d.jsx)("button",{type:"submit",className:"add-btn",children:"add"})]})},w=function(e){var t=e.newFilter,n=e.handleFilterChange;return Object(d.jsx)("div",{className:"inputwrapper",children:Object(d.jsxs)("div",{className:"label-and-input",children:[Object(d.jsx)("label",{children:"filter shown with"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{value:t,onChange:n,placeholder:"Search.."})]})})},v=(n(28),n(5)),C=n.n(v),N="/api/persons",S=function(){return C.a.get(N).then((function(e){return e.data}))},k=function(e){return C.a.post(N,e).then((function(e){return e.data}))},I=function(e){return C.a.delete("".concat(N,"/").concat(e)).then((function(e){return console.log("contact deleted")}))},F=function(e,t){return C.a.put("".concat(N,"/").concat(e),t).then((function(e){return e.data}))},R=n(20),A=n(21),B={height:"30px",display:"flex",alignItems:"center",justifyContent:"center",color:"Red",background:"transparent",width:"100%",textAlign:"center"},z={height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"Green",background:"transparent",textAlign:"center"},D={fontSize:"25px",marginRight:"5px"},E={width:"100%",height:"30px"},J=function(e){var t=e.notification;return Object(d.jsx)("div",{style:E,children:null===t?null:Object(d.jsxs)("div",{style:t.positive?z:B,children:[t.positive?Object(d.jsx)(R.a,{style:D}):Object(d.jsx)(A.a,{style:D}),Object(d.jsx)("p",{children:t.message})]})})},L=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),r=Object(l.a)(i,2),s=r[0],u=r[1],j=Object(c.useState)(""),h=Object(l.a)(j,2),b=h[0],f=h[1],p=Object(c.useState)(""),x=Object(l.a)(p,2),O=x[0],g=x[1],v=Object(c.useState)(null),C=Object(l.a)(v,2),N=C[0],R=C[1],A=function(e,t){R({message:e,positive:"error"!==t}),setTimeout((function(){R(null)}),3e3)};return Object(c.useEffect)((function(){S().then((function(e){a(e)}))}),[]),Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)("h2",{className:"appname",children:"PhoneBook"}),Object(d.jsx)(w,{newFilter:O,handleFilterChange:function(e){g(e.target.value)}}),Object(d.jsx)("h2",{children:"Add a new contact"}),Object(d.jsx)(y,{addName:function(e){e.preventDefault();var t={name:s,number:b};if(n.some((function(e){return e.name===s}))){if(window.confirm("".concat(s," is already added to phonebook, replace the old number with a new one?"))){var c=n.find((function(e){return e.name===s})).id;F(c,t).then((function(e){a(n.map((function(e){return e.id!==c?e:Object(o.a)(Object(o.a)({},t),{},{id:c})}))),console.log("contact updated"),A("Updated ".concat(t.name),"success")})).catch((function(e){A("Could not update number ".concat(t.name),"error")}))}u(""),f("")}else k(t).then((function(e){a(n.concat(e)),u(""),f(""),A("Added ".concat(t.name),"success")})).catch((function(e){console.log(e),A("Could not add".concat(t.name),"error")}))},newName:s,newNumber:b,handleNameChange:function(e){u(e.target.value)},handleNumberChange:function(e){f(e.target.value)}}),Object(d.jsx)(J,{notification:N}),Object(d.jsx)("h2",{children:"Numbers"}),Object(d.jsx)(m,{persons:n,newFilter:O,deleteContact:function(e){if(window.confirm("Delete ".concat(e))){var t=n.find((function(t){return t.name===e}));I(t.id).then((function(t){A("".concat(e," deleted successfully"),"success")})).then((function(t){return a(n.filter((function(t){return t.name!==e})))})).catch((function(t){A("".concat(e," was already deleted"),"error")}))}}})]})};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(L,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.2d13169a.chunk.js.map