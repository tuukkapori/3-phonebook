(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),a=n(18),r=n.n(a),o=(n(26),n(9)),l=n(4),s=n(19),d=n(1),u={display:"flex",justifyContent:"space-between",width:"100%",maxWidth:"400px",height:"auto",margin:"0px",padding:"5px 20px",background:"#fff",border:"1px solid grey",borderRadius:"5px",marginBottom:"3px"},j={backgroundColor:"#f44336",border:"none",color:"white",fontSize:"15px",padding:"10px",borderRadius:"5px"},h={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},b=function(e){var t=e.person,n=e.deleteContact;return Object(d.jsxs)("div",{style:u,className:"contact-label",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{style:{marginBottom:"10px",marginTop:"5px"},children:t.name}),Object(d.jsx)(s.a,{style:{fontSize:"12px",marginRight:"3px"}}),Object(d.jsxs)("p",{style:{display:"inline"},children:[" ",t.number]})]}),Object(d.jsx)("div",{style:h,children:Object(d.jsx)("button",{style:j,onClick:function(){return n(t.name)},children:"delete"})})]})},f={display:"flex",justifyContent:"center",alignItems:"center"},p={listStyle:"none",width:"100%"},x={overflow:"scroll",width:"100%",padding:"10px"},m=function(e){var t=e.persons,n=e.newFilter,c=e.deleteContact;return Object(d.jsx)("div",{style:x,children:Object(d.jsx)("ul",{style:p,children:t.filter((function(e){return""===n?e:e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return Object(d.jsx)("li",{style:f,children:Object(d.jsx)(b,{person:e,deleteContact:c})},e.name)}))})})},O={width:"50%",maxWidth:"350px"},g={width:"100%"},y=function(e){var t=e.addName,n=e.newName,c=e.handleNameChange,i=e.newNumber,a=e.handleNumberChange;return Object(d.jsxs)("form",{onSubmit:t,children:[Object(d.jsxs)("div",{style:O,children:[Object(d.jsx)("label",{children:"name:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{style:g,id:"nameInput",value:n,onChange:c})]}),Object(d.jsxs)("div",{style:O,children:[Object(d.jsx)("label",{children:"number:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{style:g,id:"numberInput",value:i,onChange:a})]}),Object(d.jsx)("button",{type:"submit",className:"add-btn",children:"add"})]})},w={width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},v=function(e){var t=e.newFilter,n=e.handleFilterChange;return Object(d.jsx)("div",{style:w,children:Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"filter shown with"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{value:t,onChange:n,placeholder:"Search.."})]})})},C=(n(28),n(5)),N=n.n(C),S="/api/persons",k=function(){return N.a.get(S).then((function(e){return e.data}))},I=function(e){return N.a.post(S,e).then((function(e){return e.data}))},F=function(e){return N.a.delete("".concat(S,"/").concat(e)).then((function(e){return console.log("contact deleted")}))},R=function(e,t){return N.a.put("".concat(S,"/").concat(e),t).then((function(e){return e.data}))},A=n(20),B=n(21),D={height:"30px",display:"flex",alignItems:"center",justifyContent:"center",color:"Red",background:"transparent",width:"100%",textAlign:"center"},z={height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"Green",background:"transparent",textAlign:"center"},M={fontSize:"25px",marginRight:"5px"},E={width:"100%",height:"30px"},J=function(e){var t=e.notification;return Object(d.jsx)("div",{style:E,children:null===t?null:Object(d.jsxs)("div",{style:t.positive?z:D,children:[t.positive?Object(d.jsx)(A.a,{style:M}):Object(d.jsx)(B.a,{style:M}),Object(d.jsx)("p",{children:t.message})]})})},L=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(""),r=Object(l.a)(a,2),s=r[0],u=r[1],j=Object(c.useState)(""),h=Object(l.a)(j,2),b=h[0],f=h[1],p=Object(c.useState)(""),x=Object(l.a)(p,2),O=x[0],g=x[1],w=Object(c.useState)(null),C=Object(l.a)(w,2),N=C[0],S=C[1],A=function(e,t){S({message:e,positive:"error"!==t}),setTimeout((function(){S(null)}),3e3)};return Object(c.useEffect)((function(){k().then((function(e){i(e)}))}),[]),Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)("h2",{className:"appname",children:"PhoneBook"}),Object(d.jsx)(v,{newFilter:O,handleFilterChange:function(e){g(e.target.value)}}),Object(d.jsx)("h2",{children:"Add a new contact"}),Object(d.jsx)(y,{addName:function(e){e.preventDefault();var t={name:s,number:b,id:Math.floor(12345*Math.random())};if(n.some((function(e){return e.name===s}))){if(window.confirm("".concat(s," is already added to phonebook, replace the old number with a new one?"))){var c=n.find((function(e){return e.name===s})).id;R(c,t).then((function(e){i(n.map((function(e){return e.id!==c?e:Object(o.a)(Object(o.a)({},t),{},{id:c})}))),console.log("contact updated"),A("Updated ".concat(t.name),"success")})).catch((function(e){A("Could not update number ".concat(t.name),"error")}))}u(""),f("")}else I(t).then((function(e){i(n.concat(e)),u(""),f(""),A("Added ".concat(t.name),"success")})).catch((function(e){A("Could not add".concat(t.name),"error")}))},newName:s,newNumber:b,handleNameChange:function(e){u(e.target.value)},handleNumberChange:function(e){f(e.target.value)}}),Object(d.jsx)(J,{notification:N}),Object(d.jsx)("h2",{children:"Numbers"}),Object(d.jsx)(m,{persons:n,newFilter:O,deleteContact:function(e){if(window.confirm("Delete ".concat(e))){var t=n.find((function(t){return t.name===e}));F(t.id).then((function(t){A("".concat(e," deleted successfully"),"success")})).catch((function(t){A("".concat(e," was already deleted"),"error")})),i(n.filter((function(t){return t.name!==e})))}}})]})};r.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(L,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.e4a143b7.chunk.js.map